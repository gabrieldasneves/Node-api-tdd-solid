generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
    id String @id @default(uuid())
    name String
    email String @unique
    password_hash String
    created_at DateTime @default(now())

    checkIns CheckIn[]

    @@map("users")
}

model Gym {
    title String
    description String?
    phone String?
    latitude Decimal
    longitude Decimal
    id String @id @default(uuid())

    checkIns CheckIn[]

    @@map("gyms")
}

model CheckIn {
    created_at DateTime @default(now())
    validated_at DateTime?
    id String @id @default(uuid())
   
    user User @relation(fields: [user_id], references: [id])
    user_id String
    gym Gym @relation(fields: [gym_id], references: [id])
    gym_id String

    @@map("check_ins")
}